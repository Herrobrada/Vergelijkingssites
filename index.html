<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ViaVerde - De Groene Reisvergelijker</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.6.2/fuse.min.js"></script>

    <style>
        /* Algemene Reset & Basisstyling */
        body {
            margin: 0;
            font-family: 'Roboto', Arial, sans-serif;
            background-color: #f0f0f0; /* Lichte achtergrond voor de gehele pagina */
            color: #333;
        }
.topnav {
  display: flex;
  justify-content: center;
  gap: 00px;
  padding: 20px 0;
  background-color: #f0f0f0;
  position: relative;
  z-index: 1000;
}

.tab-button {
  background: none;
  border: none;
  font-size: 1.1em;
  font-weight: bold;
  cursor: pointer;
  color: #222;
  padding: 20px;
  border-bottom: 2px solid transparent;
  transition: all 0.2s ease;
  margin-right: 2cm;
}

.tab-button.active {
  color: red;
  border-bottom: 2px solid red;
}

.tab-content {
  display: none;
  position: absolute;
  top: 100px; /* afstand vanaf de bovenkant van de pagina */
  left: 50%;
  transform: translateX(-50%);
  width: 80%;
  max-width: 900px;
  background: white;
  padding: 30px;
  font-size: 1em;
  border-radius: 8px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  z-index: 2000;
}


.label-logo {
  position: absolute;
  top: 34px;
  left: 199px;
  width: 13%;
  z-index: 2229999;
}

        /* Header Styling - Minimalistisch zoals in Naamloos2.png */
        .header {
            background-color: transparent; /* Geen achtergrondkleur, de hero-sectie is de top */
            padding: 0;
            display: flex;
            align-items: flex-start; /* Lijn bovenaan uit */
            justify-content: flex-start;
            position: absolute; /* Absolute positionering om over de hero te liggen */
            top: 0;
            left: 0;
            width: 100%;
            height: 0; /* Geen hoogte, alleen voor positionering van de logo-tag */
            z-index: 100; /* Zorg dat header/logo bovenaan blijft */
        }
        .logo-tag {
            /* De groene tag met het logo en de tekst */
            background-image: url('Afbeelding%202%20website.png.png');
            background-size: cover; /* Zorgt dat de afbeelding de hele container bedekt */
            background-position: center;
            background-repeat: no-repeat;
            color: white;
            padding: 15px 25px; /* Padding binnen de tag */
            border-radius: 0 0 10px 0; /* Afronding aan de onderkant rechts */
            display: flex;
            flex-direction: column; /* Tekst onder elkaar */
            justify-content: center;
            align-items: center;
            position: absolute;
            left: 0;
            top: 0;
            width: 200px; /* Vaste breedte van de tag */
            height: 80px; /* Vaste hoogte van de tag */
            box-sizing: border-box; /* Padding binnen de breedte/hoogte */
            text-align: center;
            font-weight: bold;
            font-size: 0.9em;
            line-height: 1.2;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.4); /* Schaduw voor leesbaarheid */
        }
        .logo-tag span:first-child {
            font-size: 1.1em; /* Grotere tekst voor "Milieuvriendelijker reizen" */
            margin-bottom: 3px;
        }
        .logo-tag span:last-child {
            font-size: 1.4em; /* Grotere tekst voor "VamosVerde" */
        }

        /* Geen main-nav in dit design, dus verwijderd */
        /* .main-nav { ... } */


        /* Hero Section - Groen met dierenbanner */
        .hero-section {
            background-image: url('Afbeelding%201%20website.png.png'); /* Achtergrondafbeelding */
            background-size: cover; /* Zorgt ervoor dat de afbeelding de hele container bedekt */
            background-position: bottom center; /* Positioneer de onderkant van de afbeelding in het midden */
            background-repeat: no-repeat; /* Voorkom herhaling van de afbeelding */
            color: white;
            padding: 80px 20px 150px 20px; /* Meer padding onderaan voor formulier overlap */
            text-align: center;
            position: relative;
	    z-index: 10;
            overflow: hidden;
            min-height: 200px; /* Minimum hoogte voor de hero sectie */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start; /* Lijn content links uit */
        }
        .hero-content {
            max-width: 800px;
            margin-left: 5%; /* Ruimte vanaf de linkerkant */
            text-align: left; /* Tekst links uitlijnen */
            z-index: 1;
            position: relative;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5); /* Schaduw voor betere leesbaarheid */
        }
        .hero-content h1 {
            font-size: 2.8em;
            margin-bottom: 15px;
            font-weight: 700;
        }
        .hero-content p {
            font-size: 1.3em;
            opacity: 0.9;
        }

        /* Search Form Container - Styling zoals image_0d7ad0.png */
        .search-form-container {
    background-color: white;
    border-radius: 9px;
    padding: 25px 0;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    position: absolute;
    bottom: 6px;
    left: 50%;
    transform: translateX(-50%);
    width: 95%;
    max-width: 1000px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: flex-end;
    z-index: 1000; /* <-- DIT IS DE FIX */
    border: 9px solid #ddd;
    overflow: hidden;
}

        .form-group {
            flex: 1; /* Neemt beschikbare ruimte in */
            min-width: 180px; /* Minimum breedte voor elk veld */
            display: flex;
            flex-direction: column;
            padding: 0 20px; /* Horizontale padding binnen de groep */
            box-sizing: border-box;
            position: relative; /* Voor de label positionering */
        }
        /* Verticale scheidingslijnen tussen de input-velden */
        .form-group:not(:last-of-type)::after {
            content: '';
            position: absolute;
            right: 0;
            top: 10px; /* Start iets onder de label */
            bottom: 10px; /* Einde iets boven de onderkant van de input */
            width: 1px;
            background-color: #e0e0e0; /* Lichte grijze lijn */
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
            font-size: 0.95em;
            text-align: left; /* Labels links uitlijnen */
        }
        .form-group input[type="text"],
        .form-group input[type="number"] {
            width: 100%; /* Volle breedte binnen de padding van de form-group */
            padding: 10px 0; /* Verticale padding, horizontale padding door form-group */
            border: none; /* Geen individuele borders voor inputs */
            border-radius: 0; /* Geen afronding op inputs */
            font-size: 1em;
            outline: none; /* Geen outline bij focus */
            background-color: transparent; /* Zorgt dat de witte achtergrond van de container zichtbaar is */
            text-align: left; /* Input tekst links uitlijnen */
        }
        .search-button {
            background-color: #64bd21;
            color: white;
            padding: 14px 30px;
            border: none;
            border-radius: 6px;
            font-size: 1.15em;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            font-weight: bold;
            margin-left: 20px; /* Ruimte tussen laatste input en knop */
            margin-bottom: 0;
	    margin-right: 20px /* Zorg dat de knop onderaan de container zit */
        }
        .search-button:hover {
            background-color: #5aa11f;
            transform: translateY(-2px);
        }

        /* Features Section */
        .features-section {
            padding-top: 80px;
            padding-bottom: 60px;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            gap: 50px;
            flex-wrap: wrap;
        }
        .feature-item {
            text-align: center;
            flex: 0 0 200px;
            background-color: white;
            padding: 25px 15px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .feature-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.12);
        }
        .feature-item i {
            font-size: 2.8em;
            color: #2A3C9A;
            margin-bottom: 15px;
        }
        .feature-item .icon-bg {
            display: inline-flex;
            justify-content: center;
            align-items: center;
            background-color: #d1e2bf;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            margin-bottom: 15px;
        }
        .feature-item .icon-bg .fa-check {
            color: #64bd21;
            font-size: 2em;
        }

        .feature-item p {
            margin: 5px 0;
            color: #555;
            font-size: 0.95em;
        }
        .feature-item strong {
            display: block;
            font-size: 1.3em;
            color: #333;
            margin-bottom: 5px;
        }
        .feature-item .rating {
            font-size: 1.8em;
            font-weight: bold;
            color: #2A3C9A;
        }

        /* Main content area */
      main {
    max-width: 1100px;
    margin: 10px auto 0 auto; /* voeg top-margin toe */
    padding: 20px;
    background-color: #f0f0f0;
    position: relative;
    z-index: 1;
}


        /* Result Section */
        #spinner {
            text-align: center;
            padding: 40px 0;
            font-size: 1.3em;
            color: #2A3C9A;
            font-weight: bold;
            display: none;
        }
        #summary {
            background-color: #e6f7ff;
            border: 1px solid #b3e0ff;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            text-align: center;
        }
        #summary h3 {
            color: #2A3C9A;
            font-size: 1.6em;
            margin-top: 0;
        }
        #summary #best-mode {
            color: #64bd21;
            font-weight: bold;
        }
        #distance {
            font-size: 1.1em;
            color: #555;
            margin-bottom: 10px;
        }

        #results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }
        .result-item {
            background-color: white;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            line-height: 1.6;
            transition: transform 0.2s ease;
        }
        .result-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        .result-item strong {
            font-size: 1.2em;
            color: #2A3C9A;
            display: block;
            margin-bottom: 0px;
        }
        #savings-message {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            padding: 20px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 1.1em;
            text-align: center;
            font-weight: bold;
        }

        /* Info Section (Over ons) */
        #info-section {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            margin-top: 20px;
        }
        #info-section summary {
            font-size: 1.8em;
            font-weight: 700;
            color: #2A3C9A;
            cursor: pointer;
            margin-bottom: 25px;
            list-style: none;
            position: relative;
        }
        #info-section summary::-webkit-details-marker {
            display: none;
        }
        #info-section summary::before {
            content: "\f055"; /* Plus icoon */
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            color: #64bd21;
            font-size: 0.8em;
            transition: transform 0.3s ease;
        }
        #info-section details[open] summary::before {
            content: "\f056"; /* Min icoon */
            transform: translateY(-50%) rotate(0deg);
        }


        #info-section h3 {
            font-size: 1.5em;
            margin-top: 25px;
            color: #2A3C9A;
        }
        #info-section p {
            font-size: 1em;
            color: #444;
            line-height: 1.7;
            margin-bottom: 20px;
        }

        #toggle-button {
            margin-top: 15px;
            margin-bottom: 30px;
            padding: 12px 25px;
            background-color: #2A3C9A;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }
        #toggle-button:hover {
            background-color: #1e2c7a;
        }

        .styled-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
            font-size: 0.95em;
        }
        .styled-table caption {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 15px;
            color: #2A3C9A;
            text-align: left;
        }
        .styled-table th, .styled-table td {
            border: 1px solid #eee;
            padding: 12px 15px;
            text-align: left;
        }
        .styled-table thead tr {
            background-color: #2A3C9A;
            color: white;
        }
        .styled-table tbody tr:nth-of-type(even) {
            background-color: #f8f8f8;
        }
        .styled-table tbody tr:hover {
            background-color: #f1f1f1;
        }
        .styled-table a {
            color: #2A3C9A;
            text-decoration: none;
            font-weight: bold;
        }
        .styled-table a:hover {
            text-decoration: underline;
        }

        /* Footer Styling */
        footer {
            background-color: #2A3C9A;
            color: white;
            text-align: center;
            padding: 20px;
            font-size: 0.9em;
            margin-top: 50px;
        }

        /* Responsiviteit */
        @media (max-width: 768px) {
            .header {
                position: static; /* Niet absoluut op mobiel */
                height: auto;
            }
            .logo-tag {
                position: static; /* Niet absoluut op mobiel */
                width: 100%;
                border-radius: 0;
                padding: 15px 0;
                height: auto;
            }
            .hero-section {
                padding: 50px 20px 100px 20px;
                min-height: 300px;
                background-size: contain;
                background-position: bottom center;
                align-items: center; /* Centreer tekst op mobiel */
            }
            .hero-content {
                margin-left: 0;
                text-align: center;
            }
            .hero-content h1 {
                font-size: 2em;
            }
            .hero-content p {
                font-size: 1.1em;
            }
            .search-form-container {
                position: static;
                transform: translateX(0%);
                width: 90%;
                margin: 20px auto 0 auto;
                flex-direction: column;
                gap: 0; /* Geen gap */
                padding: 20px;
                bottom: auto;
                left: auto;
                border: 1px solid #ddd; /* Behoud de rand */
            }
            .form-group {
                min-width: 100%;
                max-width: 100%;
                padding: 10px 0; /* Verticale padding voor gestapelde inputs */
                border-bottom: 1px solid #e0e0e0; /* Horizontale lijn tussen gestapelde inputs */
            }
            .form-group:last-of-type {
                border-bottom: none; /* Geen lijn onder de laatste groep */
            }
            .form-group:not(:last-of-type)::after {
                content: none; /* Geen verticale lijnen op mobiel */
            }
            .form-group label {
                padding-left: 10px; /* Padding voor labels op mobiel */
            }
            .form-group input[type="text"],
            .form-group input[type="number"] {
                width: calc(100% - 20px); /* Padding weer meenemen in breedte */
                padding: 10px; /* Standaard padding op mobiel */
                border: 1px solid #ddd; /* Rand om de inputs op mobiel */
                border-radius: 6px;
                margin-left: 10px; /* Ruimte vanaf de rand */
            }
            .search-button {
                width: calc(100% - 20px);
                padding: 15px;
                margin: 20px 10px 0 10px; /* Margins op mobiel */
            }
            .features-section {
                padding-top: 40px;
                gap: 30px;
            }
            .feature-item {
                flex: 0 0 160px;
                padding: 20px 10px;
            }
            main {
                padding: 15px;
            }
            .styled-table {
                font-size: 0.85em;
            }
            .styled-table th, .styled-table td {
                padding: 8px 10px;
            }
            #info-section summary {
                font-size: 1.4em;
            }
            #info-section h3 {
                font-size: 1.3em;
            }
        }
    </style>
</head>
<body>
<div class="topnav">
  <button class="tab-button" onclick="openTab('uitleg1', this)">Hoe werkt het?</button>
  <button class="tab-button" onclick="openTab('uitleg2', this)">Wat is ons doel?</button>
  <button class="tab-button" onclick="openTab('uitleg3', this)">Wat betekent VamosVerde?</button>
</div>

<div id="uitleg1" class="tab-content">
  <p>
    Als je een stad invult bij <strong>‘Van’</strong>, bedoelen we meestal de plaats waar je woont of vertrekt. 
    Bij <strong>‘Naar’</strong> vul je je reisbestemming in – bijvoorbeeld een vakantiebestemming of een stad waar je naartoe wilt.
  </p>
  <p>
    Zodra je op <strong>"Bereken"</strong> klikt, vergelijkt VamosVerde automatisch verschillende vervoersopties (zoals trein, vliegtuig en auto) op basis van:
  </p>
  <ul>
    <li>De afstand tussen de steden</li>
    <li>De verwachte CO₂-uitstoot</li>
    <li>De gemiddelde reiskosten</li>
    <li>De reistijd</li>
  </ul>
  <p>
    Zo zie je in één oogopslag wat de <strong>meest milieubewuste</strong>, <strong>goedkoopste</strong> of <strong>snelste</strong> manier van reizen is.  
    Jij bepaalt wat voor jou het belangrijkst is – wij zorgen voor de inzichten.
  </p>
</div>
<div id="uitleg2" class="tab-content">
  <p>
    Ons doel is om reizigers bewuster te maken van de impact van hun vervoerskeuze.
    Veel mensen weten niet hoeveel verschil het maakt of je de trein neemt in plaats van het vliegtuig, of wat de echte kosten zijn van autorijden.
  </p>
  <p>
    Met VaiVerde willen we die informatie <strong>in één overzicht</strong> beschikbaar maken. Niet met ingewikkelde rapporten of cijfers, 
    maar met een simpele vergelijking van CO₂-uitstoot, kosten en reistijd.
  </p>
  <p>
    Zo kun jij een keuze maken die past bij wat jij belangrijk vindt: 
    <strong>het milieu sparen, geld besparen of gewoon snel aankomen</strong>.
  </p>
  <p>
    Uiteindelijk willen we bijdragen aan een duurzamere wereld door het makkelijker te maken om groenere keuzes te maken, zonder dat het ingewikkeld wordt.
  </p>
</div>
<div id="uitleg3" class="tab-content">
  <p>
    <strong>VamosVerde</strong> betekent letterlijk: “Laten we groen gaan”. Het is een oproep om bewuster te reizen — niet alleen voor jezelf, maar ook voor de wereld om je heen.
  </p>
  <p>
    We willen mensen inspireren om keuzes te maken die passen bij een duurzamere toekomst. Door te laten zien wat het effect is van jouw vervoer op het klimaat, maken we het makkelijker om te kiezen voor minder uitstoot en meer bewustzijn.
  </p>
  <p>
    <strong>VamosVerde</strong> is dus meer dan een naam: het is een beweging richting slimme, betaalbare en milieuvriendelijke mobiliteit.
  </p>
</div>
<img
  src="Afbeelding 2 webiste.png.png"
  alt="VamosVerde label"
  class="label-logo"
/>
<div class="topbar"></div>

    <header class="header">
        <div class="logo-tag">
            <span>Milieuvriendelijker reizen</span>
            <span>VamosVerde</span>
        </div>
        </header>

    <section class="hero-section">
        <div class="hero-content">
            <h1>Zo milieuvriendelijk mogelijk reizen?</h1>
            <p>Maak gebruik van VamosVerde</p>
        </div>

        <div class="search-form-container">
            <div class="form-group">
                <label for="from">Van</label>
                <input type="text" id="from" list="cities" oninput="filterCities(this.value)" placeholder="">
            </div>
            <div class="form-group">
                <label for="to">Naar</label>
                <input type="text" id="to" list="cities" oninput="filterCities(this.value)" placeholder="">
            </div>
            <div class="form-group">
                <label for="persons">Aantal personen</label>
                <input type="number" id="persons" value="1" min="1">
            </div>
            <button class="search-button" onclick="startCalculation()">Bereken</button>
        </div>
        <datalist id="cities"></datalist>
    </section>

    <section class="features-section">
        <div class="feature-item">
            <i class="fas fa-users"></i>
            <p><strong>24.285</strong></p>
            <p>mensen vergelijken groener</p>
        </div>
        <div class="feature-item">
            <div class="icon-bg">
                <i class="fas fa-check"></i>
            </div>
            <p><strong>Snel inzicht</strong></p>
            <p>Weet in seconden hoeveel CO₂ je bespaard <p>
        </div>
        <div class="feature-item">
            <i class="fas fa-euro-sign"></i>
            <p><strong>De goedkoopste optie,-</strong></p>
            <p>Bespaar naast CO₂ ook Euro's</p>
        </div>
        <div class="feature-item">
            <i class="fas fa-thumbs-up"></i>
            <p class="rating">9,1</p>
            <p>cijfer waardering</p>
        </div>
    </section>

    <main>
        <div id="spinner">⏳ Wij zoeken naar de groenste optie voor u...</div>

        <div class="result-section">
            <div id="summary" style="display: none;">
                <div id="distance"></div>
                <h3>De groenste optie is: <span id="best-mode"></span></h3>
            </div>
            <div id="results"></div>
            <div id="savings-message"></div>
        </div>

        <section id="info-section">
            <details>
                <summary>Over ons</summary>

                <h3>Hoe komen wij aan onze data en inzichten?</h3>

                <p>
                    Wij maken gebruik van betrouwbare internationale bronnen en gemiddelden om reizigers inzicht te geven in de impact van hun vervoerskeuze. Uiteraard spelen veel factoren mee in de uiteindelijke uitstoot en kosten, zoals de bezettingsgraad van het vervoermiddel, de energiebron voor treinen of auto's, weersomstandigheden, en specifieke routes. Onze cijfers zijn dan ook niet bedoeld als exacte berekening, maar als een begrijpelijk en betrouwbaar kader voor bewuste keuzes.
                </p>

                <button onclick="toggleSources()" id="toggle-button">
                    Toon bronnen
                </button>

                <div id="source-tables" style="display: none;">
                    <table class="styled-table">
                        <caption>🌍 Gemiddelde CO₂-uitstoot per kilometer per persoon</caption>
                        <thead>
                            <tr><th>Vervoermiddel</th><th>CO₂-uitstoot (kg)</th><th>Toelichting</th><th>Bronnen</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>🚆 Trein</td><td>0,041</td><td>Elektrische treinen, EU-stroommix</td><td><a href="https://www.eea.europa.eu" target="_blank">EEA</a>, <a href="https://www.gov.uk" target="_blank">UK DEFRA</a></td></tr>
                            <tr><td>🚗 Auto (elektrisch)</td><td>0,020</td><td>Gem. verbruik 15–18 kWh/100km</td><td><a href="https://www.iea.org" target="_blank">IEA</a>, <a href="https://www.anwb.nl" target="_blank">ANWB</a></td></tr>
                            <tr><td>🚗 Auto (benzine)</td><td>0,120</td><td>6,5L/100km × 2,3 kg CO₂/L</td><td><a href="https://www.eea.europa.eu" target="_blank">EEA</a></td></tr>
                            <tr><td>🚗 Auto (diesel)</td><td>0,100</td><td>5,5L/100km × 2,65 kg CO₂/L</td><td><a href="https://www.eea.europa.eu" target="_blank">EEA</a></td></tr>
                            <tr><td>✈️ Vliegtuig</td><td>0,250</td><td>Korte vluchten binnen Europa</td><td><a href="https://www.atmosfair.de" target="_blank">Atmosfair</a>, <a href="https://www.gov.uk" target="_blank">DEFRA</a></td></tr>
                        </tbody>
                    </table>

                    <table class="styled-table">
                        <caption>💰 Gemiddelde kosten per kilometer per persoon</caption>
                        <thead>
                            <tr><th>Vervoermiddel</th><th>Prijs (€)</th><th>Toelichting</th><th>Bronnen</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>🚆 Trein</td><td>€ 0,15</td><td>Gem. prijs Europa (zonder korting)</td><td><a href="https://www.statista.com" target="_blank">Statista</a>, <a href="https://www.ns.nl" target="_blank">NS</a>, <a href="https://www.bahn.com" target="_blank">DB</a>, <a href="https://www.sncf.com" target="_blank">SNCF</a></td></tr>
                            <tr><td>🚗 Auto (elektrisch)</td><td>€ 0,05</td><td>€0,20/kWh × 15 kWh/100km</td><td><a href="https://www.anwb.nl" target="_blank">ANWB</a>, <a href="https://www.iea.org" target="_blank">IEA</a></td></tr>
                            <tr><td>🚗 Auto (benzine)</td><td>€ 0,15</td><td>€1,90/L × 6,5L/100km</td><td><a href="https://www.anwb.nl" target="_blank">ANWB</a></td></tr>
                            <tr><td>🚗 Auto (diesel)</td><td>€ 0,13</td><td>€1,75/L × 5,5L/100km</td><td><a href="https://www.anwb.nl" target="_blank">ANWB</a></td></tr>
                            <tr><td>✈️ Vliegtuig</td><td>€ 0,35</td><td>Gemiddelde prijs incl. belastingen</td><td><a href="https://www.beuc.eu" target="_blank">BEUC</a>, <a href="https://www.ryanair.com" target="_blank">Ryanair</a>, <a href="https://www.easyjet.com" target="_blank">EasyJet</a></td></tr>
                        </tbody>
                    </table>
                </div>
            </details>
        </section>
    </main>

    <footer>
        © Coen's groene vergelijker – De resultaten zijn niet 100% accuraat, hier kunnen geen rechten aan worden ontleend. Alle rechten voorbehouden.
    </footer>

    <script>
        let cityData = [];
        let fuse;

        async function loadCities() {
            try {
                const res = await axios.get("https://raw.githubusercontent.com/Herrobrada/Vergelijkingssites/main/europese_plaatsen.json");
                cityData = res.data;
                fuse = new Fuse(cityData, { keys: ['name'], threshold: 0.3, ignoreLocation: true });
                console.log("Stadsdata geladen en Fuse geïnitialiseerd.");
            } catch (error) {
                console.error("Fout bij het laden van stadsdata:", error);
                alert("Er is een probleem opgetreden bij het laden van de stadsgegevens. Probeer het later opnieuw.");
            }
        }

        function filterCities(input) {
            if (!fuse || input.length < 1) {
                document.getElementById("cities").innerHTML = "";
                return;
            }
            const matches = fuse.search(input).slice(0, 10).map(x => x.item.name);
            const datalist = document.getElementById("cities");
            datalist.innerHTML = [...new Set(matches)].sort().map(x => `<option value="${x}">`).join("");
        }

        function getCity(name) {
            if (!fuse) return null;
            const result = fuse.search(name);
            return result.length ? result[0].item : null;
        }

        function haversine(lat1, lon1, lat2, lon2) {
            const R = 6371; // Straal van de aarde in kilometers
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLon = (lon2 - lon1) * Math.PI / 180;
            const a = Math.sin(dLat/2)**2 + Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180)*Math.sin(dLon/2)**2;
            return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
        }

        function startCalculation() {
            document.getElementById("spinner").style.display = "block";
            document.getElementById("results").innerHTML = "";
            document.getElementById("savings-message").innerHTML = "";
            document.getElementById("summary").style.display = "none";

            setTimeout(() => {
                document.getElementById("spinner").style.display = "none";
                calculate();
            }, 1500);
        }

        function calculate() {
            const fromInput = document.getElementById("from").value;
            const toInput = document.getElementById("to").value;
            const persons = parseInt(document.getElementById("persons").value);

            const from = getCity(fromInput);
            const to = getCity(toInput);

            if (!from || !to) {
                alert("Zorg ervoor dat zowel het vertrekpunt als de bestemming correct zijn ingevuld en bestaan in onze database.");
                return;
            }
            if (persons < 1 || isNaN(persons)) {
                alert("Het aantal personen moet minimaal 1 zijn.");
                return;
            }

            const distance = haversine(from.latitude, from.longitude, to.latitude, to.longitude);

            document.getElementById("distance").innerText = `Afstand tussen ${from.name} en ${to.name}: ${distance.toFixed(0)} km`;

            const modes = [
                { type: "Trein", co2: 0.041, price: 0.15, speed:100, factor:1.15 },
                { type: "Auto (elektrisch)", co2: 0.02, price: 0.05, speed:85, shared: true, factor: 1.2 },
                { type: "Auto (benzine)", co2: 0.12, price: 0.15, speed:90, shared: true, factor: 1.2},
                { type: "Auto (diesel)", co2: 0.10, price: 0.13, speed:90, shared: true, factor: 1.2 },
                { type: "Vliegtuig", co2: 0.25, price: 0.35, speed:700, factor: 1.02 }
            ];

            const results = modes.map(m => {
                const adjustedDistance = distance * m.factor;
                const co2 = m.co2 * adjustedDistance * (m.shared ? (persons > 0 ? 1 / persons : 1) : 1);
                const cost = m.price * adjustedDistance * (m.shared ? (persons > 0 ? 1 / persons : 1) : 1);
                const duration = adjustedDistance / m.speed;
                return {
                    ...m,
                    adjustedDistance: adjustedDistance.toFixed(1),
                    co2: co2.toFixed(2),
                    cost: cost.toFixed(2),
                    duration: duration.toFixed(1)
                };
            }).sort((a, b) => a.co2 - b.co2);

            document.getElementById("best-mode").innerText = results[0].type;
            document.getElementById("summary").style.display = "block";

            document.getElementById("results").innerHTML = results.map(r => `
                <div class="result-item">
                    <strong>${r.type}</strong><br>
                    CO₂-uitstoot: ${r.co2} kg p.p.<br>
                    Gemiddelde prijs: €${r.cost} p.p.<br>
                    Geschatte reistijd: ${r.duration} uur<br>
                    Totale afstand: ${r.adjustedDistance} km
                </div>
            `).join("");

            const worstMode = results[results.length - 1];
            const bestMode = results[0];

            if (worstMode.co2 > 0 && bestMode.co2 >= 0) {
                const verschil = (worstMode.co2 - bestMode.co2).toFixed(2);
                const biefstukken = Math.round(verschil / 5);
                const wijn = Math.round(verschil / 1.5);

                document.getElementById("savings-message").innerText =
                    `Als je voor ${bestMode.type} kiest in plaats van ${worstMode.type}, bespaar je ${verschil} kg CO₂. Dat staat gelijk aan ${biefstukken} biefstukken of ${wijn} glazen wijn!`;
            } else {
                document.getElementById("savings-message").innerText = "";
            }
        }

        function toggleSources() {
            const tableDiv = document.getElementById("source-tables");
            const button = document.getElementById("toggle-button");
            const isHidden = tableDiv.style.display === "none";
            tableDiv.style.display = isHidden ? "block" : "none";
            button.innerText = isHidden ? "Verberg bronnen" : "Toon bronnen";
        }

        document.addEventListener("DOMContentLoaded", () => {
            loadCities();
            const detailsElement = document.querySelector('#info-section details');
            if (detailsElement) {
                detailsElement.addEventListener('toggle', function() {
                    const summaryElement = this.querySelector('summary');
                    if (this.open) {
                        summaryElement.style.setProperty('--fa-content', '"\\f056"');
                    } else {
                        summaryElement.style.setProperty('--fa-content', '"\\f055"');
                    }
                });
            }
        });
    </script>
<script>
  function openTab(id, button) {
    // Sluit alle tabblokken
    document.querySelectorAll('.tab-content').forEach(div => div.style.display = 'none');
    // Verwijder 'active' van alle knoppen
    document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));

    // Toon de geselecteerde uitleg
    const content = document.getElementById(id);
    content.style.display = 'block';
    button.classList.add('active');

    // Sla het actieve blok op voor sluiting bij buitenklikken
    window.activeTab = content;
  }

  // Klik buiten het uitlegvak? Sluit het
  document.addEventListener('click', function (e) {
    if (
      window.activeTab &&                        // er is een open blok
      !window.activeTab.contains(e.target) &&    // klik was niet ín het blok
      !e.target.classList.contains('tab-button') // klik was niet op de knop
    ) {
      window.activeTab.style.display = 'none';
      document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
      window.activeTab = null;
    }
  });
</script>
</body>
</html>
